<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/religion.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@300;400;500;700&display=swap" rel="stylesheet">    <title>Intiti Magazine</title>
</head>

<body>
    <div class="content">
        <div class="loader" id="loader"><p>Loading ...</p></div>

        <div class="row1">
            <div class="advert">Advert 1</div>
            <div class="advert">Advert 2</div>
        </div>

        <div class="row2">
            <img class="logo" src="/assets/images/logo-final.png" alt="" class="logo" />

            <div class="navbar">
                <p class="navitem">News</p>
                <p class="navitem" onclick="location.href=`./pages/books-publication.html`">Magazines</p>
                <p class="navitem">Business</p>
                <p class="navitem">Tech</p>
                <p class="navitem">Culture</p>
                <p class="navitem">Religion</p>
                <p class="navitem">Opinion</p>
                <p class="navitem">Video Portal</p>
                <p class="navitem">About Us</p>

            </div>
        </div>
        <div class="row3">
            <p>Technology is the leading way to improve life</p>
        </div>
        <div class="row5">
            <div class="news-sports-section">
                <h3 class="section-header" id="news-header">International economy</h3>

                <div class="news-au-pair" id="business">

                </div>
                <h3 class="section-header" id="sports-header">Local economy</h3>

                <div class="news-au-pair">
                    <div class="news-card">
                        <img src="./assets/images/sample-slideshow.png" alt="" class="news-image">
                        <p class="news-header">News Header</p>
                        <p class="news-content">
                            Sed pretium efficitur nulla, at euismod urna lacinia imperdiet. Quisque cursus tempus elit
                            nec suscipit. Donec augue odio,
                        </p>
                    </div>
                    <div class="news-card">
                        <img src="./assets/images/sample-slideshow.png" alt="" class="news-image">
                        <p class="news-header">News Header</p>
                        <p class="news-content">
                            Sed pretium efficitur nulla, at euismod urna lacinia imperdiet. Quisque cursus tempus elit
                            nec suscipit. Donec augue odio,
                        </p>
                    </div>
                    <div class="news-card">
                        <img src="./assets/images/sample-slideshow.png" alt="" class="news-image">
                        <p class="news-header">News Header</p>
                        <p class="news-content">
                            Sed pretium efficitur nulla, at euismod urna lacinia imperdiet. Quisque cursus tempus elit
                            nec suscipit. Donec augue odio,
                        </p>
                    </div>


                </div>

            </div>
            <div class="advert-zone">
                <img src="./assets/Animee/Sahara-low.gif" alt="">
                <img src="./assets/Animee/Export-Import.gif" alt="">
            </div>
        </div>

        <div class="footer">

            <div class="footer-group">
                <h2>Contact Info</h2>
                <div class="footer-item">
                    <img src="/assets/images/location.png" alt="" class="footer-image">
                    <p class="footer-detail">Kanombe<br>KN XXX ST</p>
                </div>
                <div class="footer-item">
                    <img src="/assets/images/phone.png" alt="" class="footer-image">
                    <p class="footer-detail">+250 735 0000</p>
                </div>
                <div class="footer-item">
                    <img src="/assets/images/message.png" alt="" class="footer-image">
                    <p class="footer-detail">intiti@gmail.com</p>
                </div>
            </div>

            <div class="footer-group">
                <h2>Working hours</h2>
                <div class="footer-item">
                    <img src="/assets/images/clock.png" alt="" class="footer-image">
                    <p class="footer-detail">8:00AM-8:00PM</p>
                </div>

            </div>

            <div class="footer-group">
                <h2>Our Services</h2>
                <div class="footer-item">
                    <img src="assets/images/circle.png" alt="" class="footer-image">
                    <p class="footer-detail">Web design and development</p>
                </div>
                <div class="footer-item">
                    <img src="assets/images/circle.png" alt="" class="footer-image">
                    <p class="footer-detail">Software development</p>
                </div>
                <div class="footer-item">
                    <img src="assets/images/circle.png" alt="" class="footer-image">
                    <p class="footer-detail">Graphics design</p>
                </div>
                <div class="footer-item">
                    <img src="assets/images/circle.png" alt="" class="footer-image">
                    <p class="footer-detail">Elaboration Strategy</p>
                </div>
            </div>
        </div>

    </div>
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.2.3/firebase.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/8.2.3/firebase-analytics.js"></script>

    <script>
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        var firebaseConfig = {
            apiKey: "AIzaSyAOpZpH9ezHk78KeIfVD0J98Nyyf_sFK70",
            authDomain: "intiti-website.firebaseapp.com",
            projectId: "intiti-website",
            storageBucket: "intiti-website.appspot.com",
            messagingSenderId: "620651830390",
            appId: "1:620651830390:web:f03da58ecc2a69c99f1357",
            measurementId: "G-LPTBMTEGLD"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        firebase.analytics();
        const loader = document.getElementById('loader');

        var db = firebase.firestore();
        db.collection('mainArticles').get().then((querySnapshot) => {
            querySnapshot.forEach((doc) => {
                // console.log(doc);
                // console.log(Object.keys(doc));
                // console.log(doc.id);
                // console.log(doc.data());
                console.log("The section reached");
            });
        }).catch((error) => {
            console.log(error);
        });
        // loadMainArticle();

        function loadMainArticle() {
            var row3 = document.getElementById('row3');
            loader.style.display = "block";
            db.collection('presenter').get().then((querySnapshot) => {
                // console.log(Object.keys(querySnapshot));
                var allPresenters = [];

                querySnapshot.forEach((doc) => {
                    allPresenters.push(doc.data());
                    console.log(doc.data())
                });
                console.log(allPresenters);
                var idMaker = allPresenters[0].Title + "ID";
                row3.innerHTML = `
        <div class="mainArticle"  style="background-image: url('${allPresenters[0].Picture}');">
               <h3>${allPresenters[0].Title}</h3>
           </div>
           <div class="secondaryItems">
               <div class="secondaryRow">
                   <div class="secArticle" onclick="openNewsWindow('${allPresenters[1].Body}', 
                   '${allPresenters[1].Date}',
                   '${allPresenters[1].Picture}',  
                   '${allPresenters[1].Title}',
                   '${allPresenters[1].Writer}',  )" style="background-image: url('${allPresenters[1].Picture}');">
                    
                       <p class="title">${allPresenters[1].Title}</p>
                       <p class="tag"></p>
                   </div>
                   <div class="secArticle"  onclick="openNewsWindow('${allPresenters[2].Body}', 
                   '${allPresenters[2].Date}',
                   '${allPresenters[2].Picture}',  
                   '${allPresenters[2].Title}',
                   '${allPresenters[2].Writer}',  )" style="background-image: url('${allPresenters[2].Picture}');">
                    <p class="title">${allPresenters[2].Title}</p>
                    <p class="tag"></p>
                </div>
               </div>
               <div class="secondaryRow">
                <div class="secArticle"  onclick="openNewsWindow('${allPresenters[3].Body}', 
                   '${allPresenters[3].Date}',
                   '${allPresenters[3].Picture}',  
                   '${allPresenters[3].Title}',
                   '${allPresenters[3].Writer}',  )" style="background-image: url('${allPresenters[3].Picture}');">
                    <p class="title">${allPresenters[3].Title}</p>
                    <p class="tag"></p>
                </div>
                <div class="secArticle"  onclick="openNewsWindow('${allPresenters[4].Body}', 
                   '${allPresenters[4].Date}',
                   '${allPresenters[4].Picture}',  
                   '${allPresenters[4].Title}',
                   '${allPresenters[4].Writer}',  )" style="background-image: url('${allPresenters[4].Picture}');">
                 <p class="title">${allPresenters[4].Title}</p>
                 <p class="tag"></p>
             </div>
            </div>
           </div>
        `;

            })
            

        }
        function setBackground(id, bg){
            console.log('Setting background ...');
        }

      loadAnySection();

        function loadAnySection() {
            loader.style.display = "block";
            let MINIMUMNUMBER = 0;
            var mainDocument = document.getElementById('business');
            db.collection('business').get().then((qSnapShot) => {
                qSnapShot.forEach((doc) => {
                    console.log(doc.data());
                    var SLICED = String(doc.data().Body).slice(0, 70);
                    if (MINIMUMNUMBER < 3) {
                        mainDocument.innerHTML += `
                <div class="news-card" onclick="ONW('${doc.data().Body}',
                '${doc.data()._Date}', 
                '${doc.data().Picture}',
                '${doc.data().Title}',
                '${doc.data().Writer}',)">
                        <img src="${doc.data().Picture}" alt="" class="news-image">
                        <p class="news-header">${doc.data().Title}</p>
                        <p class="news-content">
                              ${SLICED}
                        </p>
                    </div>
                `;
                    }
                    MINIMUMNUMBER += 1;
                })
            }).then(()=>{
                loader.style.display = "none";
            })
            
        }
function ONW(Body, _date, Picture, Title,Writer){
    fetch('../pages/Templates/articleRender.html').then(response=> response.text()).then((data)=>{
        let s = data.toString().replace('{{Body}}', Body).replace('{{Title}}', Title).replace('{{Picture}}', Picture).replace('{{Date}}', _date).replace('{{Writer}}', Writer);
        document.open();
        document.write(s);
        
    })
}
    </script>
</body>

</html>